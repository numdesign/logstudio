<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Log Studio</title>

  <!-- Pretendard 웹폰트 -->
  <link rel="stylesheet" as="style" crossorigin
    href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="favicon.png" />
</head>

<body>
  <div class="app">
    <!-- 테마 토글 (우상단 고정) -->
    <button id="theme-toggle" class="theme-toggle" type="button" aria-label="테마 전환">
      <span class="toggle-track">
        <span class="toggle-thumb">
          <span class="thumb-icon thumb-icon--sun">☀️</span>
          <span class="thumb-icon thumb-icon--moon">🌙</span>
        </span>
      </span>
    </button>

    <!-- 도움말 버튼 (우상단) -->
    <button id="help-btn" class="help-btn" type="button" aria-label="도움말" title="키보드 단축키 (F1)">?</button>

    <!-- 히어로 섹션: 제목 -->
    <header class="hero">
      <h1 class="hero-title">
        <span class="studio-link active">Log</span>
        <span class="studio-suffix">Studio</span>
      </h1>
    </header>

    <!-- 메인 영역 -->
    <main class="app-layout">
      <!-- 왼쪽: 통합 설정 패널 -->
      <div class="column column--left">
        <!-- 설정 패널 -->
        <section class="pane pane--settings pane--unified">
          <!-- 탭 네비게이션 -->
          <div class="settings-tabs">
            <button class="settings-tab active" data-tab="logs">로그</button>
            <button class="settings-tab" data-tab="character">캐릭터</button>
            <button class="settings-tab" data-tab="design">디자인</button>
            <button class="settings-tab" data-tab="style">스타일</button>
            <button class="settings-tab" data-tab="custom">고급</button>
          </div>

          <!-- 로그 탭 -->
          <div class="settings-content active" id="tab-logs">
            <div class="log-tab-header">
              <span class="log-tab-label">로그 블록</span>
              <div class="log-tab-actions">
                <button id="import-json-btn" class="log-action-btn" type="button" title="RisuAI JSON 가져오기">
                  📥 JSON
                </button>
                <button id="remove-brackets-btn" class="log-action-btn" type="button" title="모든 블록에서 [대괄호] 텍스트 제거">
                  🧹 [ ] 제거
                </button>
                <button id="find-replace-btn" class="log-action-btn" type="button" title="찾기 및 바꾸기">
                  🔍 바꾸기
                </button>
                <button id="reset-all-btn" class="log-action-btn log-action-btn--danger" type="button"
                  title="모든 블록과 설정 초기화">
                  🗑️ 초기화
                </button>
                <button id="add-block-btn" class="add-block-btn" type="button" title="블록 추가">
                  <span>+</span> 블록 추가
                </button>
              </div>
            </div>
            <!-- 숨겨진 파일 input -->
            <input type="file" id="json-file-input" accept=".json" style="display: none;">
            <div id="log-blocks" class="log-blocks">
              <!-- 블록들이 여기에 동적으로 생성됨 -->
            </div>
          </div>

          <!-- 캐릭터 정보 탭 -->
          <div class="settings-content" id="tab-character">
            <div class="setting-group">
              <label class="setting-label">로그 제목</label>
              <input type="text" class="setting-input" id="log-title" placeholder="예: 첫 만남" autocomplete="off">
            </div>
            <div class="setting-row">
              <div class="setting-group">
                <label class="setting-label">캐릭터 이름 (AI)</label>
                <input type="text" class="setting-input" id="char-name" placeholder="예: 아리아" autocomplete="off">
              </div>
              <div class="setting-group">
                <label class="setting-label">유저 이름</label>
                <input type="text" class="setting-input" id="user-name" placeholder="예: 나" autocomplete="off">
              </div>
            </div>
            <div class="setting-group">
              <label class="setting-label">캐릭터 링크 (선택)</label>
              <input type="text" class="setting-input" id="char-link" placeholder="https://..." autocomplete="off">
            </div>
            <div class="setting-group">
              <label class="setting-label">AI 모델명</label>
              <div class="input-with-dropdown">
                <input type="text" class="setting-input" id="ai-model" placeholder="직접 입력 또는 선택" autocomplete="off">
                <div class="dropdown-menu" id="ai-model-dropdown">
                  <button type="button" data-value="GPT 5.2">GPT 5.2</button>
                  <button type="button" data-value="GPT 5.1">GPT 5.1</button>
                  <button type="button" data-value="Claude 4.5 Opus">Claude 4.5 Opus</button>
                  <button type="button" data-value="Claude 3.7 Sonnet">Claude 3.7 Sonnet</button>
                  <button type="button" data-value="Gemini 3 Pro Preview">Gemini 3 Pro Preview</button>
                  <button type="button" data-value="Gemini 2.5 Pro">Gemini 2.5 Pro</button>
                </div>
              </div>
            </div>
            <div class="setting-group">
              <label class="setting-label">프롬프트명</label>
              <input type="text" class="setting-input" id="prompt-name" placeholder="예: 판타지 롤플레이" autocomplete="off">
            </div>
            <div class="setting-group">
              <label class="setting-label">보조 모델명</label>
              <div class="input-with-dropdown">
                <input type="text" class="setting-input" id="sub-model" placeholder="직접 입력 또는 선택" autocomplete="off">
                <div class="dropdown-menu" id="sub-model-dropdown">
                  <button type="button" data-value="GPT 4.1">GPT 4.1</button>
                  <button type="button" data-value="Gemini 3 Pro Preview">Gemini 3 Pro Preview</button>
                  <button type="button" data-value="Gemini 3 Flash Preview">Gemini 3 Flash Preview</button>
                  <button type="button" data-value="Gemini 2.5 Pro">Gemini 2.5 Pro</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 디자인 탭 -->
          <div class="settings-content" id="tab-design">
            <!-- 테마 프리셋 -->
            <div class="setting-group">
              <label class="setting-label">테마 프리셋</label>
              <div class="theme-preset-wrap">
                <!-- Light Themes -->
                <button type="button" class="theme-preset active" data-theme="light-pure" title="퓨어 화이트">
                  <span class="preset-swatch" style="background: #ffffff; border: 1px solid #e5e5e5;"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-peach" title="소프트 피치">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fff5f5 50%, #fb7185 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-mint" title="민트 프레시">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f0fdfa 50%, #2dd4bf 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-sky" title="스카이 블루">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f0f9ff 50%, #38bdf8 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-lilac" title="라일락 미스트">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #faf5ff 50%, #a78bfa 50%);"></span>
                </button>

                <!-- Light Themes (More) -->
                <button type="button" class="theme-preset" data-theme="light-cream" title="버터 크림">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fff7ed 50%, #fb923c 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-sakura" title="사쿠라 블룸">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fff1f2 50%, #db2777 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-aqua" title="아쿠아 글로우">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #ecfeff 50%, #06b6d4 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-latte" title="라떼 브라운">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f6f0e8 50%, #b45309 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-citrus" title="시트러스 옐로">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fefce8 50%, #84cc16 50%);"></span>
                </button>

                <!-- Light Themes (Extra) -->
                <button type="button" class="theme-preset" data-theme="light-snow" title="스노우 블루">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fbfdff 50%, #3b82f6 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-tropical" title="트로피컬 라군">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f7fffb 50%, #14b8a6 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-stone" title="라이트 스톤">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fafaf9 50%, #2563eb 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-sunflower" title="선플라워">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fffdea 50%, #eab308 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="light-berry-soda" title="베리 소다">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fff5fb 50%, #8b5cf6 50%);"></span>
                </button>

                <!-- Dark Themes -->
                <button type="button" class="theme-preset" data-theme="dark-space" title="딥 스페이스">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #0f172a 50%, #64748b 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-charcoal" title="차콜 골드">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #18181b 50%, #fbbf24 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-forest" title="포레스트 나이트">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #052e16 50%, #22c55e 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-navy" title="네이비 블루">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #172554 50%, #60a5fa 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-cyber" title="사이버 펑크">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #09090b 50%, #d946ef 50%);"></span>
                </button>

                <!-- Dark Themes (More) -->
                <button type="button" class="theme-preset" data-theme="dark-ember" title="엠버 레드">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #1f0a0a 50%, #f97316 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-emerald" title="에메랄드 딥">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #021c1a 50%, #14b8a6 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-plum" title="플럼 나이트">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #1b1027 50%, #c084fc 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-slate" title="슬레이트 블루">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #0b1220 50%, #22d3ee 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-rosewood" title="로즈우드">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #140a0f 50%, #fb7185 50%);"></span>
                </button>

                <!-- Dark Themes (Extra) -->
                <button type="button" class="theme-preset" data-theme="dark-midnight" title="미드나잇 블루">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #050a1a 50%, #38bdf8 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-mocha" title="모카 나이트">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #1a120b 50%, #fb923c 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-aurora" title="오로라">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #06121a 50%, #a3e635 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-volcanic" title="볼케이노">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #0a0a0a 50%, #ef4444 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="dark-ocean" title="딥 오션">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #031b1f 50%, #2dd4bf 50%);"></span>
                </button>

                <!-- Natural Themes -->
                <button type="button" class="theme-preset" data-theme="nature-sage" title="세이지 그린">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f6f7f4 50%, #0f766e 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="nature-sand" title="샌드 베이지">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fbf6ed 50%, #92400e 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="nature-clay" title="클레이 테라코타">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fff4ee 50%, #c2410c 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="nature-river" title="리버 블루">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f2f7fb 50%, #0891b2 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="nature-pine" title="파인 포레스트">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #0b1a12 50%, #34d399 50%);"></span>
                </button>

                <!-- Special Themes -->
                <button type="button" class="theme-preset" data-theme="special-sepia" title="세피아">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #f5f0e6 50%, #6b5a3e 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="special-noir" title="누아르">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #1a1a1a 50%, #c0c0c0 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="special-neon" title="네온">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #0a0a12 50%, #ff00ff 50%);"></span>
                </button>

                <!-- Reference Themes -->
                <button type="button" class="theme-preset" data-theme="ref-instagram" title="인스타그램">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #833ab4 0%, #e1306c 45%, #f77737 100%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="ref-discord" title="디스코드">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #313338 50%, #5865f2 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="ref-imessage" title="iMessage">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #007aff 0%, #007aff 50%, #34c759 50%, #34c759 100%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="ref-notion" title="Notion">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #fbfbfa 50%, #111111 50%);"></span>
                </button>
                <button type="button" class="theme-preset" data-theme="ref-terminal" title="터미널">
                  <span class="preset-swatch"
                    style="background: linear-gradient(135deg, #030712 50%, #22c55e 50%);"></span>
                </button>
              </div>
            </div>

            <!-- 내 프리셋 저장/불러오기 -->
            <div class="setting-group">
              <label class="setting-label">내 프리셋</label>
              <div class="user-preset-controls">
                <div class="user-preset-save">
                  <input type="text" class="setting-input" id="user-preset-name" placeholder="프리셋 이름 입력"
                    autocomplete="off">
                  <button type="button" class="preset-save-btn" id="save-preset-btn" title="현재 설정 저장">💾 저장</button>
                </div>
                <div class="user-preset-list" id="user-preset-list">
                  <!-- 저장된 프리셋이 여기에 표시됨 -->
                </div>
                <div class="settings-export-import">
                  <button type="button" class="export-import-btn" id="export-settings-btn" title="현재 설정을 JSON 파일로 내보내기">
                    📤 설정 내보내기
                  </button>
                  <button type="button" class="export-import-btn" id="import-settings-btn" title="JSON 파일에서 설정 가져오기">
                    📥 설정 가져오기
                  </button>
                  <input type="file" id="settings-file-input" accept=".json" style="display: none;">
                </div>
              </div>
            </div>

            <div class="setting-divider"></div>

            <div class="design-section-title">기본</div>
            <div class="design-color-grid">
              <div class="setting-group">
                <label class="setting-label">배경색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-bg" value="#fafafa">
                  <input type="text" class="setting-input setting-input--color" id="style-bg-text" value="#fafafa">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">글자색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-text" value="#18181b">
                  <input type="text" class="setting-input setting-input--color" id="style-text-text" value="#18181b">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">캐릭터 이름 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-char" value="#18181b">
                  <input type="text" class="setting-input setting-input--color" id="style-char-text" value="#18181b">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">헤더 배경색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-header-bg" value="#ffffff">
                  <input type="text" class="setting-input setting-input--color" id="style-header-bg-text"
                    value="#ffffff">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">접기/펼치기 제목 배경</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-details-summary-bg" value="#f3f4f6">
                  <input type="text" class="setting-input setting-input--color" id="style-details-summary-bg-text"
                    value="#f3f4f6">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">테두리 색상</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-border-color" value="#e4e4e7">
                  <input type="text" class="setting-input setting-input--color" id="style-border-color-text"
                    value="#e4e4e7">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">구분선(---) 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-divider" value="#d1d5db">
                  <input type="text" class="setting-input setting-input--color" id="style-divider-text" value="#d1d5db">
                </div>
              </div>
            </div>

            <div class="setting-divider"></div>

            <div class="design-section-title">마크다운 · 인용</div>
            <div class="design-color-grid">
              <div class="setting-group">
                <label class="setting-label">강조(**볼드**) 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-bold" value="#dc2626">
                  <input type="text" class="setting-input setting-input--color" id="style-bold-text" value="#dc2626">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">이탤릭(*기울임*) 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-italic" value="#6366f1">
                  <input type="text" class="setting-input setting-input--color" id="style-italic-text" value="#6366f1">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">마크다운 제목(#) 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-heading" value="#111827">
                  <input type="text" class="setting-input setting-input--color" id="style-heading-text" value="#111827">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">인용구('') 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-quote" value="#6b7280">
                  <input type="text" class="setting-input setting-input--color" id="style-quote-text" value="#6b7280">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">인용구 배경색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-quote-bg" value="#f3f4f6">
                  <input type="text" class="setting-input setting-input--color" id="style-quote-bg-text"
                    value="#f3f4f6">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">대사("") 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-dialogue" value="#059669">
                  <input type="text" class="setting-input setting-input--color" id="style-dialogue-text"
                    value="#059669">
                </div>
              </div>
            </div>

            <div class="setting-divider"></div>

            <div class="design-section-title">말풍선 · 뱃지</div>
            <div class="design-color-grid">
              <div class="setting-group">
                <label class="setting-label">대사 배경색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-dialogue-bg" value="#ecfdf5">
                  <input type="text" class="setting-input setting-input--color" id="style-dialogue-bg-text"
                    value="#ecfdf5">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">AI 말풍선 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-ai-bubble" value="#f4f4f5">
                  <input type="text" class="setting-input setting-input--color" id="style-ai-bubble-text"
                    value="#f4f4f5">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">User 말풍선 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-user-bubble" value="#dbeafe">
                  <input type="text" class="setting-input setting-input--color" id="style-user-bubble-text"
                    value="#dbeafe">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">모델 뱃지 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-badge-model" value="#18181b">
                  <input type="text" class="setting-input setting-input--color" id="style-badge-model-text"
                    value="#18181b">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">프롬프트 뱃지 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-badge-prompt" value="#71717a">
                  <input type="text" class="setting-input setting-input--color" id="style-badge-prompt-text"
                    value="#71717a">
                </div>
              </div>
              <div class="setting-group">
                <label class="setting-label">보조모델 뱃지 색</label>
                <div class="color-input-wrap">
                  <input type="color" class="setting-color" id="style-badge-sub" value="#a1a1aa">
                  <input type="text" class="setting-input setting-input--color" id="style-badge-sub-text"
                    value="#a1a1aa">
                </div>
              </div>
            </div>

          </div>

          <!-- 스타일 탭 -->
          <div class="settings-content" id="tab-style">
            <!-- 타이포그래피 -->
            <details class="style-accordion" open>
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">타이포그래피</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-group">
                  <label class="setting-label">텍스트 정렬</label>
                  <select class="setting-select" id="style-text-align">
                    <option value="left">왼쪽 정렬</option>
                    <option value="center">가운데 정렬</option>
                    <option value="right">오른쪽 정렬</option>
                    <option value="justify" selected>양쪽 정렬</option>
                  </select>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">폰트 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-font-size" min="12" max="24" value="15">
                      <span class="range-value" id="style-font-size-value">15px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">폰트 굵기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-font-weight" min="300" max="700" step="100"
                        value="400">
                      <span class="range-value" id="style-font-weight-value">400</span>
                    </div>
                  </div>
                </div>
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">요소 간 간격</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-line-height" min="1.2" max="2.4" step="0.1"
                        value="1.5">
                      <span class="range-value" id="style-line-height-value">1.5</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">자간</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-letter-spacing" min="-0.05" max="0.15"
                        step="0.01" value="0">
                      <span class="range-value" id="style-letter-spacing-value">0em</span>
                    </div>
                  </div>
                </div>
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">줄 간격</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-block-line-height" min="1.0" max="3.0"
                        step="0.1" value="1.8">
                      <span class="range-value" id="style-block-line-height-value">1.8</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">문단 간격</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-paragraph-spacing" min="0" max="2" step="0.05"
                        value="1.5">
                      <span class="range-value" id="style-paragraph-spacing-value">1.5em</span>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- 컨테이너 레이아웃 -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">컨테이너 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">컨테이너 너비</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-width" min="400" max="1200" step="50"
                        value="800">
                      <span class="range-value" id="style-width-value">800px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">컨테이너 내부 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-padding" min="1" max="5" step="0.5" value="2">
                      <span class="range-value" id="style-padding-value">2em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">컨테이너 외부 여백 (위/아래)</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-container-margin-y" min="0" max="6"
                        step="0.25" value="1">
                      <span class="range-value" id="style-container-margin-y-value">1em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">컨테이너 둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-radius" min="0" max="48" step="4" value="16">
                      <span class="range-value" id="style-radius-value">16px</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">블록 간 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-block-gap" min="0.5" max="3" step="0.1"
                        value="1.5">
                      <span class="range-value" id="style-block-gap-value">1.5em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">테두리 두께</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-border-width" min="0" max="4" step="1"
                        value="0">
                      <span class="range-value" id="style-border-width-value">0px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">그림자 강도</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-shadow-intensity" min="0" max="100" step="10"
                        value="20">
                      <span class="range-value" id="style-shadow-intensity-value">20%</span>
                    </div>
                  </div>
                </div>

                <div class="setting-group">
                  <label class="setting-label">컨테이너 사용 안 함</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-disable-container-style">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-disable-container-style-label">꺼짐</span>
                  </div>
                  <p class="setting-hint">컨테이너의 배경/테두리/둥글기/그림자를 적용하지 않습니다</p>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-group">
                  <label class="setting-label">테두리 스타일</label>
                  <select class="setting-select" id="style-border-style">
                    <option value="solid" selected>실선 (solid)</option>
                    <option value="dashed">점선 (dashed)</option>
                    <option value="dotted">도트 (dotted)</option>
                    <option value="double">이중선 (double)</option>
                  </select>
                </div>

                <div class="setting-divider"></div>

                <!-- 배경 그라데이션 (컨테이너) -->
                <div class="setting-group">
                  <label class="setting-label">배경 그라데이션</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-bg-gradient">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-bg-gradient-label">꺼짐</span>
                  </div>
                  <p class="setting-hint">컨테이너 배경에 그라데이션을 적용합니다</p>
                </div>

                <div class="gradient-options" id="gradient-options" style="display: none;">
                  <div class="setting-group">
                    <label class="setting-label">그라데이션 보조색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-gradient-color" value="#e0e7ff">
                      <input type="text" class="setting-input setting-input--color" id="style-gradient-color-text"
                        value="#e0e7ff">
                    </div>
                  </div>

                  <div class="setting-group">
                    <label class="setting-label">그라데이션 각도</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-gradient-angle" min="0" max="360" step="1"
                        value="135">
                      <span class="range-value" id="style-gradient-angle-value">135°</span>
                    </div>
                  </div>

                  <div class="setting-group">
                    <label class="setting-label">원형 그라데이션</label>
                    <div class="toggle-switch-wrap">
                      <label class="toggle-switch">
                        <input type="checkbox" id="style-gradient-radial">
                        <span class="toggle-slider"></span>
                      </label>
                      <span class="toggle-label" id="style-gradient-radial-label">꺼짐</span>
                    </div>
                    <p class="setting-hint">원형을 켜면 각도는 무시됩니다</p>
                  </div>
                </div>
              </div>
            </details>

            <!-- 헤더 레이아웃 -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">헤더 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">헤더 정렬</label>
                    <select class="setting-select" id="style-header-align">
                      <option value="left" selected>왼쪽</option>
                      <option value="center">가운데</option>
                      <option value="right">오른쪽</option>
                    </select>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">뱃지 스타일</label>
                    <select class="setting-select" id="style-badge-style">
                      <option value="filled" selected>채움 (filled)</option>
                      <option value="outline">아웃라인 (outline)</option>
                      <option value="ghost">고스트 (ghost)</option>
                    </select>
                  </div>
                </div>

                <div class="setting-group">
                  <label class="setting-label">헤더 숨기기</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-disable-header">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-disable-header-label">꺼짐</span>
                  </div>
                  <p class="setting-hint">켜면 헤더가 출력되지 않습니다</p>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">로그 제목 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-log-title-size" min="1.2" max="3" step="0.1"
                        value="1.8">
                      <span class="range-value" id="style-log-title-size-value">1.8em</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">뱃지 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-badge-scale" min="0.8" max="1.6" step="0.05"
                        value="1">
                      <span class="range-value" id="style-badge-scale-value">1.00x</span>
                    </div>
                    <p class="setting-hint">모델/프롬프트/보조 뱃지에만 적용됩니다</p>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">뱃지 둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-badge-radius" min="0" max="20" step="2"
                        value="20">
                      <span class="range-value" id="style-badge-radius-value">20px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">헤더 배경 투명도</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-header-bg-opacity" min="0" max="100" step="5"
                        value="100">
                      <span class="range-value" id="style-header-bg-opacity-value">100%</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">헤더 둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-header-radius" min="0" max="48" step="4"
                        value="16">
                      <span class="range-value" id="style-header-radius-value">16px</span>
                    </div>
                  </div>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-group">
                  <label class="setting-label">헤더 테두리 두께</label>
                  <div class="range-input-wrap">
                    <input type="range" class="setting-range" id="style-header-border-width" min="0" max="12" step="1"
                      value="0">
                    <span class="range-value" id="style-header-border-width-value">0px</span>
                  </div>
                </div>

                <div class="setting-group">
                  <label class="setting-label">헤더 배경 그라데이션</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-header-bg-gradient">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-header-bg-gradient-label">꺼짐</span>
                  </div>
                </div>

                <div class="header-gradient-options" id="header-gradient-options" style="display: none;">
                  <div class="setting-group">
                    <label class="setting-label">그라데이션 보조색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-header-gradient-color" value="#f5f5f5">
                      <input type="text" class="setting-input setting-input--color"
                        id="style-header-gradient-color-text" value="#f5f5f5">
                    </div>
                  </div>

                  <div class="setting-group">
                    <label class="setting-label">그라데이션 각도</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-header-gradient-angle" min="0" max="360"
                        step="1" value="135">
                      <span class="range-value" id="style-header-gradient-angle-value">135°</span>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- 블록 레이아웃 -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">블록 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">제목 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-block-title-size" min="0.6" max="1.2"
                        step="0.05" value="0.75">
                      <span class="range-value" id="style-block-title-size-value">0.75em</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">제목 굵기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-block-title-weight" min="300" max="800"
                        step="100" value="600">
                      <span class="range-value" id="style-block-title-weight-value">600</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">제목 아래 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-block-title-margin-bottom" min="0" max="2"
                        step="0.1" value="1">
                      <span class="range-value" id="style-block-title-margin-bottom-value">1em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-group">
                  <label class="setting-label">제목 색상</label>
                  <div class="color-input-wrap">
                    <input type="color" class="setting-color" id="style-block-title-color" value="#71717a">
                    <input type="text" class="setting-input setting-input--color" id="style-block-title-color-text"
                      value="#71717a">
                  </div>
                </div>
              </div>
            </details>

            <!-- 아코디언 레이아웃(<details>) -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">아코디언 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">블록 둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-details-radius" min="0" max="48" step="4"
                        value="12">
                      <span class="range-value" id="style-details-radius-value">12px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">제목 글자 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-details-summary-font-size" min="0.8" max="1.4"
                        step="0.05" value="1">
                      <span class="range-value" id="style-details-summary-font-size-value">1em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">테두리 두께</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-details-border-width" min="0" max="4" step="1"
                        value="1">
                      <span class="range-value" id="style-details-border-width-value">1px</span>
                    </div>
                  </div>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-group">
                  <label class="setting-label">기본 마커 숨김 (list-style: none)</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-details-summary-list-style-none" checked>
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-details-summary-list-style-none-label">켜짐</span>
                  </div>
                  <p class="setting-hint">브라우저 기본 화살표(마커)를 숨깁니다</p>
                </div>
              </div>
            </details>

            <!-- 말풍선 레이아웃 -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">말풍선 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">말풍선 최대 너비</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-bubble-max-width" min="50" max="100" step="5"
                        value="85">
                      <span class="range-value" id="style-bubble-max-width-value">85%</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">말풍선 간격</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-bubble-gap" min="0.5" max="2" step="0.1"
                        value="1">
                      <span class="range-value" id="style-bubble-gap-value">1em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">말풍선 둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-bubble-radius" min="0" max="32" step="2"
                        value="16">
                      <span class="range-value" id="style-bubble-radius-value">16px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">말풍선 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-bubble-padding" min="0.5" max="2" step="0.1"
                        value="1">
                      <span class="range-value" id="style-bubble-padding-value">1em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">네임태그 폰트 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-nametag-size" min="0.6" max="1" step="0.05"
                        value="0.75">
                      <span class="range-value" id="style-nametag-size-value">0.75em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-group">
                  <label class="setting-label">네임태그 표시</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="show-nametag" checked>
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="show-nametag-label">켜짐</span>
                  </div>
                  <p class="setting-hint">AI/User 말풍선 위에 이름을 표시합니다</p>
                </div>

                <div class="setting-group">
                  <label class="setting-label">말풍선 테두리</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-bubble-border">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-bubble-border-label">꺼짐</span>
                  </div>
                  <p class="setting-hint">말풍선에 테두리를 추가합니다</p>
                </div>

                <div class="bubble-border-options" id="bubble-border-options" style="display: none;">
                  <div class="setting-group">
                    <label class="setting-label">테두리 두께</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-bubble-border-width" min="1" max="4" step="1"
                        value="2">
                      <span class="range-value" id="style-bubble-border-width-value">2px</span>
                    </div>
                  </div>

                  <div class="setting-group">
                    <label class="setting-label">테두리 색상</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-bubble-border-color" value="#6366f1">
                      <input type="text" class="setting-input setting-input--color" id="style-bubble-border-color-text"
                        value="#6366f1">
                    </div>
                  </div>

                  <div class="setting-group">
                    <label class="setting-label">왼쪽만 (인용선 스타일)</label>
                    <div class="toggle-switch-wrap">
                      <label class="toggle-switch">
                        <input type="checkbox" id="style-bubble-border-left-only">
                        <span class="toggle-slider"></span>
                      </label>
                      <span class="toggle-label" id="style-bubble-border-left-only-label">꺼짐</span>
                    </div>
                    <p class="setting-hint">왼쪽 테두리만 표시하여 인용선처럼 보이게 합니다</p>
                  </div>
                </div>
              </div>
            </details>

            <!-- 메시지 캡슐 레이아웃 -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">메시지 캡슐 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-group">
                  <label class="setting-label">메시지 캡슐 비활성화</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-sms-pill-disable">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-sms-pill-disable-label">꺼짐</span>
                  </div>
                  <p class="setting-hint">켜면 [대괄호] 메시지를 일반 텍스트로 처리합니다</p>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-group">
                  <label class="setting-label">캡슐 프리셋</label>
                  <div class="theme-preset-wrap">
                    <button type="button" class="theme-preset active" data-pill="pill-minimal" title="미니멀">
                      <span class="preset-swatch" style="background:#f3f4f6; border: 1px solid #d1d5db;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-ios-soft" title="iMessage">
                      <span class="preset-swatch" style="background:#eef2ff; border: 1px solid #c7d2fe;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-discord-dark" title="디스코드">
                      <span class="preset-swatch" style="background:#2b2d31; border: 1px solid #3f4148;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-kakao-soft" title="카카오톡">
                      <span class="preset-swatch" style="background:#fef9c3; border: 1px solid #fde047;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-instagram-warm" title="인스타그램">
                      <span class="preset-swatch" style="background:#fff1f2; border: 1px solid #fbcfe8;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-facebook-clean" title="페이스북">
                      <span class="preset-swatch" style="background:#eff6ff; border: 1px solid #bfdbfe;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-telegram-airy" title="텔레그램">
                      <span class="preset-swatch" style="background:#ecfeff; border: 1px solid #a5f3fc;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-outline" title="아웃라인">
                      <span class="preset-swatch" style="background:#ffffff; border: 2px solid #d1d5db;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-glass" title="글래스">
                      <span class="preset-swatch" style="background:#f5f3ff; border: 1px solid #ddd6fe;"></span>
                    </button>
                    <button type="button" class="theme-preset" data-pill="pill-terminal" title="터미널">
                      <span class="preset-swatch" style="background:#111827; border: 1px solid #374151;"></span>
                    </button>
                  </div>
                </div>

                <div class="setting-divider"></div>

                <div class="design-color-grid">
                  <div class="setting-group">
                    <label class="setting-label">AI 배경색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-sms-pill-ai-bg" value="#f3f4f6">
                      <input type="text" class="setting-input setting-input--color" id="style-sms-pill-ai-bg-text"
                        value="#f3f4f6">
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">AI 테두리 색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-sms-pill-ai-border" value="#d1d5db">
                      <input type="text" class="setting-input setting-input--color" id="style-sms-pill-ai-border-text"
                        value="#d1d5db">
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">User 배경색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-sms-pill-user-bg" value="#dbeafe">
                      <input type="text" class="setting-input setting-input--color" id="style-sms-pill-user-bg-text"
                        value="#dbeafe">
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">User 테두리 색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-sms-pill-user-border" value="#bfdbfe">
                      <input type="text" class="setting-input setting-input--color" id="style-sms-pill-user-border-text"
                        value="#bfdbfe">
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">테두리 두께</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-border-width" min="0" max="8"
                        step="1" value="1">
                      <span class="range-value" id="style-sms-pill-border-width-value">1px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-radius" min="0" max="40" step="1"
                        value="28">
                      <span class="range-value" id="style-sms-pill-radius-value">28px</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">꼬리 코너</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-tail-radius" min="0" max="100"
                        step="1" value="2">
                      <span class="range-value" id="style-sms-pill-tail-radius-value">2%</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">그림자</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-shadow" min="0" max="100" step="5"
                        value="0">
                      <span class="range-value" id="style-sms-pill-shadow-value">0%</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">세로 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-padding-y" min="0" max="3"
                        step="0.05" value="0.55">
                      <span class="range-value" id="style-sms-pill-padding-y-value">0.55em</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">가로 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-padding-x" min="0" max="5"
                        step="0.05" value="0.9">
                      <span class="range-value" id="style-sms-pill-padding-x-value">0.9em</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">글자 크기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-font-size" min="0.6" max="1.5"
                        step="0.01" value="0.95">
                      <span class="range-value" id="style-sms-pill-font-size-value">0.95em</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">최대 너비</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-sms-pill-max-width" min="40" max="100"
                        step="1" value="90">
                      <span class="range-value" id="style-sms-pill-max-width-value">90%</span>
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <!-- 이미지 레이아웃 -->
            <details class="style-accordion">
              <summary class="style-accordion-header">
                <span class="accordion-icon">▼</span>
                <span class="accordion-title">이미지 레이아웃</span>
              </summary>
              <div class="style-accordion-content">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">이미지 정렬</label>
                    <select class="setting-select" id="style-image-align">
                      <option value="left">왼쪽</option>
                      <option value="center" selected>가운데</option>
                      <option value="right">오른쪽</option>
                    </select>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">그림자 효과</label>
                    <select class="setting-select" id="style-image-shadow">
                      <option value="none" selected>없음</option>
                      <option value="soft">부드러운 그림자</option>
                      <option value="medium">중간 그림자</option>
                      <option value="strong">진한 그림자</option>
                      <option value="glow">글로우 효과</option>
                    </select>
                  </div>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">이미지 최대 너비</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-image-max-width" min="100" max="800" step="50"
                        value="500">
                      <span class="range-value" id="style-image-max-width-value">500px</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">이미지 둥글기</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-image-border-radius" min="0" max="32" step="2"
                        value="8">
                      <span class="range-value" id="style-image-border-radius-value">8px</span>
                    </div>
                  </div>
                </div>

                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">이미지 여백</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-image-margin" min="0" max="3" step="0.1"
                        value="1.5">
                      <span class="range-value" id="style-image-margin-value">1.5em</span>
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">테두리 두께</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-image-border-width" min="0" max="8" step="1"
                        value="0">
                      <span class="range-value" id="style-image-border-width-value">0px</span>
                    </div>
                  </div>
                </div>

                <div class="setting-divider"></div>

                <div class="setting-group">
                  <label class="setting-label">테두리 색상</label>
                  <input type="color" class="setting-color" id="style-image-border-color" value="#e5e5e5">
                </div>
              </div>
            </details>

          </div>

          <!-- 고급 탭 -->
          <div class="settings-content" id="tab-custom">
            <!-- 말풍선 배경 (그라데이션/투명도) -->
            <div class="setting-group">
              <label class="setting-label">AI 말풍선 배경</label>
              <div class="setting-row">
                <div class="setting-group">
                  <label class="setting-label">투명도</label>
                  <div class="range-input-wrap">
                    <input type="range" class="setting-range" id="style-ai-bubble-opacity" min="0" max="100" step="5"
                      value="100">
                    <span class="range-value" id="style-ai-bubble-opacity-value">100%</span>
                  </div>
                </div>
                <div class="setting-group">
                  <label class="setting-label">그라데이션</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-ai-bubble-gradient">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-ai-bubble-gradient-label">꺼짐</span>
                  </div>
                </div>
              </div>

              <div class="bubble-gradient-options" id="ai-bubble-gradient-options" style="display: none;">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">보조색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-ai-bubble-gradient-color" value="#e5e7eb">
                      <input type="text" class="setting-input setting-input--color"
                        id="style-ai-bubble-gradient-color-text" value="#e5e7eb">
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">각도</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-ai-bubble-gradient-angle" min="0" max="360"
                        step="1" value="135">
                      <span class="range-value" id="style-ai-bubble-gradient-angle-value">135°</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="setting-divider"></div>

            <div class="setting-group">
              <label class="setting-label">User 말풍선 배경</label>
              <div class="setting-row">
                <div class="setting-group">
                  <label class="setting-label">투명도</label>
                  <div class="range-input-wrap">
                    <input type="range" class="setting-range" id="style-user-bubble-opacity" min="0" max="100" step="5"
                      value="100">
                    <span class="range-value" id="style-user-bubble-opacity-value">100%</span>
                  </div>
                </div>
                <div class="setting-group">
                  <label class="setting-label">그라데이션</label>
                  <div class="toggle-switch-wrap">
                    <label class="toggle-switch">
                      <input type="checkbox" id="style-user-bubble-gradient">
                      <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="style-user-bubble-gradient-label">꺼짐</span>
                  </div>
                </div>
              </div>

              <div class="bubble-gradient-options" id="user-bubble-gradient-options" style="display: none;">
                <div class="setting-row">
                  <div class="setting-group">
                    <label class="setting-label">보조색</label>
                    <div class="color-input-wrap">
                      <input type="color" class="setting-color" id="style-user-bubble-gradient-color" value="#e5e7eb">
                      <input type="text" class="setting-input setting-input--color"
                        id="style-user-bubble-gradient-color-text" value="#e5e7eb">
                    </div>
                  </div>
                  <div class="setting-group">
                    <label class="setting-label">각도</label>
                    <div class="range-input-wrap">
                      <input type="range" class="setting-range" id="style-user-bubble-gradient-angle" min="0" max="360"
                        step="1" value="135">
                      <span class="range-value" id="style-user-bubble-gradient-angle-value">135°</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="setting-divider"></div>

            <div class="setting-group">
              <label class="setting-label">마커 사용법</label>
              <div class="marker-help">
                <div class="marker-item">
                  <code>&gt;&gt;</code>
                  <span>AI 대사 (왼쪽 말풍선)</span>
                </div>
                <div class="marker-item">
                  <code>&lt;&lt;</code>
                  <span>User 대사 (오른쪽 말풍선)</span>
                </div>
                <div class="marker-item">
                  <code>(없음)</code>
                  <span>일반 텍스트 (나레이션)</span>
                </div>
                <div class="marker-item">
                  <code>"대사"</code>
                  <span>대사 하이라이트</span>
                </div>
                <div class="marker-item">
                  <code>'인용구'</code>
                  <span>인용구 스타일</span>
                </div>
                <div class="marker-item">
                  <code># ~ ###</code>
                  <span>마크다운 제목 (h1~h3)</span>
                </div>
                <div class="marker-item">
                  <code>---</code>
                  <span>구분선</span>
                </div>
                <div class="marker-item">
                  <code>**볼드**</code>
                  <span>굵은 글씨</span>
                </div>
                <div class="marker-item">
                  <code>*이탤릭*</code>
                  <span>기울임 글씨</span>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- 오른쪽: 미리보기 / 코드 탭 -->
      <div class="column column--right">
        <section class="pane pane--output">
          <!-- 탭 네비게이션 -->
          <div class="output-tabs">
            <button class="output-tab active" data-output-tab="preview">미리보기</button>
            <button class="output-tab" data-output-tab="code">HTML 코드</button>
            <div class="output-tab-actions">
              <div class="preview-mode-toggle" id="preview-mode-container">
                <span class="mode-icon active" title="데스크톱">🖥️</span>
                <div class="preview-mode-switch" id="preview-mode-switch" title="모바일/데스크톱 전환"></div>
                <span class="mode-icon" title="모바일">📱</span>
              </div>
              <button id="copy-btn" class="copy-btn" type="button">
                <span class="copy-icon">📋</span>
                <span class="copy-text">복사</span>
              </button>
            </div>
          </div>

          <!-- 미리보기 컨텐츠 -->
          <div class="output-content active" id="output-preview">
            <div class="preview-canvas" id="preview-canvas">
              <div id="log-preview" class="preview-content">
                <p class="placeholder-text">변환된 결과가 여기에 표시됩니다</p>
              </div>
            </div>
          </div>

          <!-- HTML 코드 컨텐츠 -->
          <div class="output-content" id="output-code">
            <pre id="code-output" class="code-box"><code class="placeholder-text">코드가 여기에 표시됩니다</code></pre>
          </div>
        </section>
      </div>
    </main>
  </div>

  <script src="main.js"></script>
</body>

</html>